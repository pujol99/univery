{% extends "base.html" %}
{% block content %}
<div class="form-page">
    <div class="form-box">
        <form method="POST" action="">
            {{ form.hidden_tag() }}
            <h1 class="form-title">Add Subject</h1>
            {% if message %}
            <div id="warning-message" class="alert alert-danger" role="alert">
                {{message}}
            </div>
            {% endif %}
            <div class="form-group form-element">
                <p style="float: left;">{{ form.subject_id.label(class="form-control-label") }}</p>
                <small>| (end of subject's url)</small>
                {% if form.subject_id.errors %}
                {{ form.subject_id(placeholder="38521", class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.subject_id.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.subject_id(placeholder="38521", class="form-control form-control-lg") }}
                {% endif %}
                
            </div>
            <div class="form-group form-element">
                {{ form.subject_color.label(class="form-control-label full") }}
                {% if form.subject_color.errors %}
                {{ form.subject_color(id="color-content", placeholder="fc773e", class="half-left is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.subject_color.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.subject_color(id="color-content", placeholder="fc773e", class="half-left") }}
                {% endif %}
                <div onclick="randomColor()" class="half-left random-button">
                    <p>Random</p>
                </div>
            </div>
            <div class="form-button sm-margin">
                {{ form.submit(class="button") }}
            </div>
            <h1 class="form-title hideSmall">Your subjects</h1>
            <div class="your-subjects">
                {% for subject in current_user.subjects %}
                <div class="subject-box">
                    <div class="subject-name" style="flex:10;background-color: {{subject.color}};">
                        <p><b>{{subject.subject.identification}}</b> - {{subject.subject.name}}</p>
                    </div>
                    <div class="subject-action" style="flex:1;">
                        <a href="{{url_for('subjects.subject_remove', id=subject.subject.identification)}}"><img src="/static/web_pics/remove.png" alt="" srcset=""></a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </form>
        <div class="form-button-2">
            <a href="{{ url_for('main.home') }}">Home</a>
        </div>
    </div>
    
</div>

{% endblock content %}